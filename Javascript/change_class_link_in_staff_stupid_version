/*Changes the class link url to "Click here to Access Class Website" in the Staff section 
https://app.asana.com/0/1201388388286192/1202215023262301 */
const delay = ms => new Promise(res => setTimeout(res, ms));

window.addEventListener("load", (event) => {

    document.querySelectorAll("#staff a.class-link").forEach((x) => { x.childNodes[0].innerHTML = "Click here to Access Class Website" });

    let currentPath = window.location.pathname;

    // Only runs this on the staff page. 
    if (currentPath.includes('staff')) {
        document.body.addEventListener('click', changeClassLink, true);
        document.querySelector("input").addEventListener('input', changeClassLink);
    }


});

async function changeClassLink() {
    times_to_run = 8;
    time_to_delay = 100;

    for (let count = 0; count < times_to_run; count++) {
        await delay(time_to_delay);
        document.querySelectorAll("#staff a.class-link").forEach((x) => { x.childNodes[0].innerHTML = "Click here to access Class Website" });
    }
}

// Ends class link script. 